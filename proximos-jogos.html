<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Próximos Jogos</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <style>
      button{
        font-size: large;
        padding: 10px;

      }
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        /* background-image: url(../Sem\ título.png); */
        background-size: cover;
        background-repeat: no-repeat;
        background-attachment: fixed;
        height: 100%;
        /* opacity: 0.5; */
      }

      header {
        background-color: #bf0b1a;
        color: #fff;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 50px;
      }

      nav ul {
        display: flex;
        list-style: none;
        margin: 0;
        padding: 0;
      }

      nav a {
        color: #fff;
        text-decoration: none;
        padding: 10px 20px;
      }

      main {
        display: flex;
        justify-content: center;
        align-items: center;
        height: calc(100vh - 100px);
      }

      section {
        width: 50%;
        text-align: center;
      }

      footer {
        background-color: #bf0b1a;
        color: #fff;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 50px;
      }
      @media (max-width: 768px) {
        section {
          width: 100%;
        }
      }

    </style>
    <!-- <link rel="stylesheet" type="text/css" href="css/style.css" /> -->
  </head>
  <header class="tile"><h1>Proximos Jogos:</h1></header>
  <br>
      <button id="myButton">Compre Sua Passagem Aqui</button>

      <br>
  <body class="imgproxjogos">
    
    <div id="fixtures"></div>
    <br><br>
      <div id="team"></div>
    

    <!-- <script type="text/javascript" src="js/script.js"></script> -->
    <script>

      document.getElementById("myButton").addEventListener("click", function() {
          window.location.href = "https://api.whatsapp.com/send?phone=5535999539535";
      });
      
      // Esse trecho mostra a liga do brasileirao:
      //
      // fetch('https://api-football-v1.p.rapidapi.com/v2/teams/league/6', {
      //   method: 'GET',
      //   headers: {
      //     'x-rapidapi-host': 'api-football-v1.p.rapidapi.com',
      //     'x-rapidapi-key': '91becedb0bmshff5e72a0f84afefp19e7a3jsn83d5af537c81'
      //   }
      // })
      // .then(response => response.json())
      // .then(data => {
      //   let teams = data.api.teams;
      //   console.log(teams);
      //   // Aqui você pode usar o resultado para encontrar o time desejado e o ID correto.
      // })
      // .catch(error => {
      //   console.error('Erro ao obter times:', error);
      // });

      // Aqui o ID referente ao flamengo 127
      
      fetch('https://api-football-v1.p.rapidapi.com/v2/fixtures/team/127/next/10', {
        method: 'GET',
        headers: {
          'x-rapidapi-host': 'api-football-v1.p.rapidapi.com',
          'x-rapidapi-key': '91becedb0bmshff5e72a0f84afefp19e7a3jsn83d5af537c81'
        }
      })
      .then(response => response.json())
      .then(data => {
        let fixtures = data.api.fixtures;
        console.log(fixtures)
        let html = '';
        fixtures.forEach(fixture => {
          let opponent = fixture.homeTeam.team_id === 127 ? fixture.awayTeam.team_name : fixture.homeTeam.team_name;
          let date = new Date(fixture.event_date);
          let hours = date.getHours() < 10 ? '0' + date.getHours() : date.getHours();
          let minutes = date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes();
          let formattedDate = `${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()} ${hours}:${minutes}`;
          html += `
            <div>
              <h2></h2>
              <p>Data: ${formattedDate}</p>
              <p>Adversário: ${opponent}</p>
            </div>
          `;
        });
        document.getElementById('fixtures').innerHTML = html;
      })
      .catch(error => {
        console.error('Erro ao obter informações sobre os jogos:', error);
      });







      fetch('https://api-football-v1.p.rapidapi.com/v2/teams/team/127', {
        method: 'GET',
        headers: {
          'x-rapidapi-host': 'api-football-v1.p.rapidapi.com',
          'x-rapidapi-key': '91becedb0bmshff5e72a0f84afefp19e7a3jsn83d5af537c81'
        }
      })
      .then(response => response.json())
      .then(data => {
        let team = data.api.teams[0];
        let html = `
          <div>
            <h2>Informações gerais</h2>
            <p>Nome: ${team.name}</p>
            <p>Fundação: ${team.founded}</p>
            <p>País: ${team.country}</p>
            <p>Estádio: ${team.venue_name}</p>
          </div>
          
          <div>
            <h2>Informações sobre o estádio</h2>
            <p>Nome: ${team.venue_name}</p>
            <p>Capacidade: ${team.venue_capacity}</p>
            <p>Endereço: ${team.venue_address}</p>
          </div>
        `;
        document.getElementById('team').innerHTML = html;
      })
      .catch(error => {
        console.error('Erro ao obter informações do time:', error);
      });










    </script>
  </body>
</html>
